<div class="sidebar-left-content">
    <div class="profile-section">
        <img src="{{ site.baseurl }}/assets/images/human.png" alt="Profile" class="profile-image">
        <h1 class="profile-name">AI 연구원</h1>
        <p class="profile-subtitle">꿈을 이루어가는 연구원</p>
        
        <div class="profile-links">
            {% if site.github %}
                <a href="https://github.com/{{ site.github }}" target="_blank" rel="noopener" class="profile-link">
                    <svg class="profile-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                    </svg>
                    GitHub
                </a>
            {% endif %}
            {% if site.email %}
                <a href="mailto:{{ site.email }}" class="profile-link">
                    <svg class="profile-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M0 4l8 4 8-4v8H0V4zm0-2h16c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1H0c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1z"/>
                    </svg>
                    Email
                </a>
            {% endif %}
        </div>
    </div>
    
    <nav class="main-navigation">
        <div class="nav-section">
            <a href="{{ '/' | relative_url }}" class="nav-link">홈</a>
            <a href="{{ '/about/' | relative_url }}" class="nav-link">About</a>
        </div>
        
        <div class="category-tree">
            <div class="category-header">
                <svg class="category-icon folder-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 3.5C2 2.67157 2.67157 2 3.5 2H6.58579C6.98361 2 7.36514 2.15804 7.64645 2.43934L8.35355 3.14645C8.63486 3.42776 9.01639 3.58579 9.41421 3.58579H12.5C13.3284 3.58579 14 4.25722 14 5.08579V12.5C14 13.3284 13.3284 14 12.5 14H3.5C2.67157 14 2 13.3284 2 12.5V3.5Z" fill="currentColor"/>
                </svg>
                <a href="{{ '/categories/' | relative_url }}" class="category-all-link">분류 전체보기</a>
                <span class="category-count">{{ site.posts.size }}개</span>
            </div>
            
            <ul class="category-list">
                {% assign top_level = 'IT' %}
                {% assign it_posts = site.categories[top_level] | default: '' %}
                {% if it_posts == '' %}
                    {% assign it_posts = '' | split: '' %}
                    {% for post in site.posts %}
                        {% if post.categories contains top_level %}
                            {% assign it_posts = it_posts | push: post %}
                        {% endif %}
                    {% endfor %}
                {% endif %}
                
                <li class="category-item parent-category">
                    <div class="category-row" data-category="IT">
                        <svg class="category-icon folder-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M2 3.5C2 2.67157 2.67157 2 3.5 2H6.58579C6.98361 2 7.36514 2.15804 7.64645 2.43934L8.35355 3.14645C8.63486 3.42776 9.01639 3.58579 9.41421 3.58579H12.5C13.3284 3.58579 14 4.25722 14 5.08579V12.5C14 13.3284 13.3284 14 12.5 14H3.5C2.67157 14 2 13.3284 2 12.5V3.5Z" fill="currentColor"/>
                        </svg>
                        <a href="{{ '/categories/' | append: top_level | relative_url }}" class="category-link">{{ top_level }}</a>
                        <span class="category-count">{{ it_posts.size }}개</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                    
                    <ul class="subcategory-list">
                        {% for category in site.categories %}
                            {% assign cat_name = category[0] %}
                            {% assign cat_posts = category[1] %}
                            {% if cat_name != top_level %}
                                {% assign has_it = false %}
                                {% for post in cat_posts %}
                                    {% if post.categories contains top_level and post.categories contains cat_name %}
                                        {% assign has_it = true %}
                                        {% break %}
                                    {% endif %}
                                {% endfor %}
                                {% if has_it %}
                                    {% assign final_posts = '' | split: '' %}
                                    {% for post in cat_posts %}
                                        {% if post.categories contains top_level and post.categories contains cat_name %}
                                            {% assign final_posts = final_posts | push: post %}
                                        {% endif %}
                                    {% endfor %}
                                    {% if final_posts.size > 0 %}
                                        <li class="category-item subcategory-item">
                                            <div class="category-row subcategory-row">
                                                <svg class="category-icon file-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M4 2C3.44772 2 3 2.44772 3 3V13C3 13.5523 3.44772 14 4 14H12C12.5523 14 13 13.5523 13 13V5.41421C13 5.149 12.8946 4.89464 12.7071 4.70711L9.29289 1.29289C9.10536 1.10536 8.851 1 8.58579 1H4Z" fill="currentColor"/>
                                                </svg>
                                                <a href="{{ '/categories/' | append: cat_name | relative_url }}" class="category-link">{{ cat_name }}</a>
                                                <span class="category-count">{{ final_posts.size }}개</span>
                                            </div>
                                        </li>
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </ul>
                </li>
            </ul>
        </div>
        
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            const toggleButtons = document.querySelectorAll('.category-row[data-category]');
            toggleButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    if (e.target.tagName === 'A') return;
                    const row = this;
                    const subList = row.parentElement.querySelector('.subcategory-list');
                    if (subList) {
                        const isExpanded = subList.style.display !== 'none';
                        subList.style.display = isExpanded ? 'none' : 'block';
                        const toggleIcon = row.querySelector('.toggle-icon');
                        if (toggleIcon) {
                            toggleIcon.textContent = isExpanded ? '▶' : '▼';
                        }
                    }
                });
            });
        });
        </script>
        
        <div class="nav-section">
            <a href="{{ '/tags/' | relative_url }}" class="nav-link">태그</a>
        </div>
    </nav>
    
    <div class="sidebar-footer">
        <p class="copyright">&copy; {{ 'now' | date: "%Y" }} {{ site.title }}</p>
    </div>
</div>

